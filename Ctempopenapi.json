{"openapi":"3.1.0","info":{"title":"ZipCheck AI","description":"부동산 계약서 리스크 분석 AI 서비스","version":"2.0.0"},"paths":{"/building/search":{"post":{"tags":["building"],"summary":"Search Building","description":"건축물대장 검색 (주소 기반).\n\n주소 정보를 통해 건축물대장 표제부 요약 정보를 검색합니다.\n\n**사용 예시:**\n```json\n{\n    \"sigungu_cd\": \"11680\",\n    \"bjdong_cd\": \"10300\",\n    \"bun\": \"12\",\n    \"ji\": \"3\",\n    \"plat_gb_cd\": \"0\",\n    \"num_of_rows\": 10,\n    \"page_no\": 1\n}\n```\n\n**응답 예시:**\n```json\n{\n    \"success\": true,\n    \"totalCount\": 1,\n    \"items\": [\n        {\n            \"mgmBldrgstPk\": \"11680-100123456\",\n            \"platPlc\": \"서울특별시 강남구 역삼동 12-3\",\n            \"bldNm\": \"역삼빌딩\",\n            \"mainPurpsCdNm\": \"업무시설\",\n            \"totArea\": \"1234.56\",\n            \"archArea\": \"567.89\",\n            \"useAprDay\": \"20200101\"\n        }\n    ]\n}\n```","operationId":"search_building_building_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuildingSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/building/detail":{"post":{"tags":["building"],"summary":"Get Building Detail","description":"건축물대장 상세 정보 조회 (표제부).\n\n관리건축물대장PK를 통해 상세 정보를 조회합니다.\n\n**사용 예시:**\n```json\n{\n    \"sigungu_cd\": \"11680\",\n    \"bjdong_cd\": \"10300\",\n    \"bun\": \"12\",\n    \"ji\": \"3\",\n    \"plat_gb_cd\": \"0\",\n    \"mgm_bldrgst_pk\": \"11680-100123456\"\n}\n```\n\n**응답 예시:**\n```json\n{\n    \"success\": true,\n    \"item\": {\n        \"mgmBldrgstPk\": \"11680-100123456\",\n        \"platPlc\": \"서울특별시 강남구 역삼동 12-3\",\n        \"newPlatPlc\": \"서울특별시 강남구 테헤란로 123\",\n        \"bldNm\": \"역삼빌딩\",\n        \"mainPurpsCdNm\": \"업무시설\",\n        \"totArea\": \"1234.56\",\n        \"archArea\": \"567.89\",\n        \"bcRat\": \"60.5\",\n        \"vlRat\": \"200.3\",\n        \"grndFlrCnt\": \"10\",\n        \"ugrndFlrCnt\": \"3\",\n        \"useAprDay\": \"20200101\"\n    }\n}\n```","operationId":"get_building_detail_building_detail_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuildingDetailRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/building/search-simple":{"get":{"tags":["building"],"summary":"Search Building Simple","description":"건축물대장 간편 검색 (GET 방식).\n\nQuery Parameter를 사용한 간단한 검색 API입니다.\n\n**사용 예시:**\n```\nGET /building/search-simple?sigungu_cd=11680&bjdong_cd=10300&bun=12&ji=3\n```","operationId":"search_building_simple_building_search_simple_get","parameters":[{"name":"sigungu_cd","in":"query","required":true,"schema":{"type":"string","description":"시군구코드 5자리 (예: 11680)","title":"Sigungu Cd"},"description":"시군구코드 5자리 (예: 11680)"},{"name":"bjdong_cd","in":"query","required":true,"schema":{"type":"string","description":"법정동코드 5자리 (예: 10300)","title":"Bjdong Cd"},"description":"법정동코드 5자리 (예: 10300)"},{"name":"bun","in":"query","required":true,"schema":{"type":"string","description":"본번 (예: 12)","title":"Bun"},"description":"본번 (예: 12)"},{"name":"ji","in":"query","required":false,"schema":{"type":"string","description":"지번 (예: 3)","default":"","title":"Ji"},"description":"지번 (예: 3)"},{"name":"plat_gb_cd","in":"query","required":false,"schema":{"type":"string","description":"대지구분코드 (0:대지, 1:산, 2:블록)","default":"0","title":"Plat Gb Cd"},"description":"대지구분코드 (0:대지, 1:산, 2:블록)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/google/login":{"get":{"tags":["Authentication"],"summary":"Google Login","description":"Initiate Google OAuth login flow.\n\nThis generates the Google authorization URL and redirects the user.\n\nFlow:\n1. User clicks \"Login with Google\" button\n2. Frontend redirects to this endpoint\n3. This endpoint generates CSRF token and redirects to Google\n4. User logs in with Google\n5. Google redirects back to /auth/google/callback","operationId":"google_login_auth_google_login_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/google/callback":{"get":{"tags":["Authentication"],"summary":"Google Callback","description":"Handle Google OAuth callback.\n\nThis endpoint receives the authorization code from Google,\nexchanges it for tokens, and creates/updates the user in Supabase.\n\nArgs:\n    code: Authorization code from Google redirect\n    state: CSRF token to verify request authenticity\n\nReturns:\n    RedirectResponse to frontend with session token\n\nRaises:\n    HTTPException: If CSRF validation fails or OAuth exchange fails","operationId":"google_callback_auth_google_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","description":"Authorization code from Google","title":"Code"},"description":"Authorization code from Google"},{"name":"state","in":"query","required":true,"schema":{"type":"string","description":"CSRF protection token","title":"State"},"description":"CSRF protection token"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/google/exchange":{"post":{"tags":["Authentication"],"summary":"Exchange Google Code","description":"Exchange Google authorization code for user info (API endpoint version).\n\nThis is an alternative to the redirect-based callback flow.\nUse this when frontend handles the OAuth flow with Supabase directly.\n\nArgs:\n    code: Authorization code from Google\n\nReturns:\n    AuthResponse with user info and tokens","operationId":"exchange_google_code_auth_google_exchange_post","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/naver/exchange":{"post":{"tags":["Authentication"],"summary":"Exchange Naver Code","description":"Exchange Naver authorization code for user info.\n\nArgs:\n    code: Authorization code from Naver\n    state: CSRF state token for verification\n\nReturns:\n    AuthResponse with user info and tokens","operationId":"exchange_naver_code_auth_naver_exchange_post","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}},{"name":"state","in":"query","required":true,"schema":{"type":"string","title":"State"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User","description":"Get current authenticated user.\n\nThis endpoint requires authentication via Authorization header.\n\nTODO: Implement JWT token validation","operationId":"get_current_user_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/send-sms":{"post":{"tags":["SMS 인증"],"summary":"Send Sms","description":"SMS 인증번호 발송\n\n- **phone**: 수신자 전화번호 (예: 010-1234-5678 또는 01012345678)","operationId":"send_sms_auth_send_sms_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendSMSRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/verify-sms":{"post":{"tags":["SMS 인증"],"summary":"Verify Sms","description":"SMS 인증번호 확인\n\n- **phone**: 전화번호\n- **code**: 6자리 인증번호","operationId":"verify_sms_auth_verify_sms_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifySMSRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/registry/upload":{"post":{"tags":["registry"],"summary":"Upload Registry","description":"등기부등본 PDF 업로드 및 처리.\n\n1. PDF 파일 업로드\n2. 텍스트 추출 및 파싱\n3. 메타데이터 추출 (주소, 소유자 등)\n4. DB 저장 (v2_documents)\n5. 벡터 임베딩 생성 및 저장\n\nArgs:\n    file: 등기부등본 PDF 파일\n    user_id: 사용자 UUID\n    property_address: 부동산 소재지 (옵션)\n    owner_name: 소유자 이름 (옵션)\n    registry_date: 발급일 (옵션)\n    registry_type: 등기부 유형 (land/building/collective)\n    session: DB 세션\n\nReturns:\n    업로드 결과 및 document_id","operationId":"upload_registry_registry_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_registry_registry_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistryUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/registry/health":{"get":{"tags":["registry"],"summary":"Health Check","description":"헬스 체크 엔드포인트.","operationId":"health_check_registry_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/land-price/search":{"post":{"tags":["land-price"],"summary":"Search Land Price","description":"개별공시지가 검색 (읍면동 단위).\n\nArgs:\n    request: 검색 요청 (연도, 법정동코드, 검색건수, 페이지)\n\nReturns:\n    개별공시지가 목록\n\nExample:\n    POST /land-price/search\n    {\n        \"year\": \"2023\",\n        \"dong_code\": \"1168010300\",  // 서울 강남구 역삼동\n        \"num_of_rows\": 100,\n        \"page_no\": 1\n    }","operationId":"search_land_price_land_price_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LandPriceSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LandPriceSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/land-price/search-simple":{"get":{"tags":["land-price"],"summary":"Search Land Price Simple","description":"개별공시지가 간편 검색 (GET).\n\nQuery Parameters:\n    - year: 기준연도 (예: 2023)\n    - dong_code: 법정동코드 (예: 1168010300)\n    - num_of_rows: 검색 건수 (기본 100)\n\nExample:\n    GET /land-price/search-simple?year=2023&dong_code=1168010300","operationId":"search_land_price_simple_land_price_search_simple_get","parameters":[{"name":"year","in":"query","required":true,"schema":{"type":"string","minLength":4,"maxLength":4,"description":"기준연도 (YYYY)","title":"Year"},"description":"기준연도 (YYYY)"},{"name":"dong_code","in":"query","required":true,"schema":{"type":"string","minLength":2,"maxLength":10,"description":"법정동코드 (10자리)","title":"Dong Code"},"description":"법정동코드 (10자리)"},{"name":"num_of_rows","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"검색 건수","default":100,"title":"Num Of Rows"},"description":"검색 건수"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LandPriceSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/land-price/stats":{"post":{"tags":["land-price"],"summary":"Get Land Price Stats","description":"특정 지역의 평균 공시지가 통계.\n\nArgs:\n    year: 기준연도\n    dong_code: 법정동코드\n\nReturns:\n    평균, 최소, 최대 공시지가 통계\n\nExample:\n    POST /land-price/stats?year=2023&dong_code=1168010300","operationId":"get_land_price_stats_land_price_stats_post","parameters":[{"name":"year","in":"query","required":true,"schema":{"type":"string","description":"기준연도 (YYYY)","title":"Year"},"description":"기준연도 (YYYY)"},{"name":"dong_code","in":"query","required":true,"schema":{"type":"string","description":"법정동코드 (10자리)","title":"Dong Code"},"description":"법정동코드 (10자리)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LandPriceStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/land-price/health":{"get":{"tags":["land-price"],"summary":"Health Check","description":"헬스 체크 엔드포인트.","operationId":"health_check_land_price_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/apt-trade/search":{"post":{"tags":["apt-trade"],"summary":"Search Apt Trade","description":"아파트 매매 실거래가 상세 자료 조회.\n\n**상세 정보 제공**:\n- 층정보 (개인정보 보호)\n- 동정보 (소유권 이전등기 완료 건만)\n- 중개사 정보\n- 매도자/매수자 구분\n- 거래유형, 토지임대여부 등\n\nArgs:\n    request: 검색 요청 (지역코드, 계약년월, 페이지 정보)\n\nReturns:\n    아파트 실거래가 상세 목록\n\nExample:\n    POST /apt-trade/search\n    {\n        \"lawd_cd\": \"11680\",\n        \"deal_ymd\": \"202401\",\n        \"page_no\": 1,\n        \"num_of_rows\": 100\n    }","operationId":"search_apt_trade_apt_trade_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AptTradeSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AptTradeSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/apt-trade/search-simple":{"get":{"tags":["apt-trade"],"summary":"Search Apt Trade Simple","description":"아파트 실거래가 간편 조회 (GET).\n\nQuery Parameters:\n    - lawd_cd: 지역코드 (예: 11680 - 강남구)\n    - deal_ymd: 계약년월 (예: 202401)\n    - page_no: 페이지 번호\n    - num_of_rows: 결과 수\n\nExample:\n    GET /apt-trade/search-simple?lawd_cd=11680&deal_ymd=202401","operationId":"search_apt_trade_simple_apt_trade_search_simple_get","parameters":[{"name":"lawd_cd","in":"query","required":true,"schema":{"type":"string","minLength":5,"maxLength":5,"description":"지역코드 (5자리)","title":"Lawd Cd"},"description":"지역코드 (5자리)"},{"name":"deal_ymd","in":"query","required":true,"schema":{"type":"string","minLength":6,"maxLength":6,"description":"계약년월 (YYYYMM)","title":"Deal Ymd"},"description":"계약년월 (YYYYMM)"},{"name":"page_no","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"페이지 번호","default":1,"title":"Page No"},"description":"페이지 번호"},{"name":"num_of_rows","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"한 페이지 결과 수","default":100,"title":"Num Of Rows"},"description":"한 페이지 결과 수"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AptTradeSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/apt-trade/search-period":{"post":{"tags":["apt-trade"],"summary":"Search Apt Trade Period","description":"기간별 아파트 실거래가 조회.\n\n**주의**: 기간이 길수록 시간이 오래 걸립니다.\n\nArgs:\n    request: 기간별 검색 요청 (지역코드, 시작년월, 종료년월)\n\nReturns:\n    전체 기간의 아파트 실거래가 목록\n\nExample:\n    POST /apt-trade/search-period\n    {\n        \"lawd_cd\": \"11680\",\n        \"start_ym\": \"202301\",\n        \"end_ym\": \"202312\"\n    }","operationId":"search_apt_trade_period_apt_trade_search_period_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AptTradePeriodRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AptTradePeriodResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/apt-trade/health":{"get":{"tags":["apt-trade"],"summary":"Health Check","description":"헬스 체크 엔드포인트.","operationId":"health_check_apt_trade_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/chat/init":{"post":{"tags":["채팅"],"summary":"Init Chat","description":"새 채팅 세션 시작 (대화 생성 + 환영 메시지)","operationId":"init_chat_chat_init_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateConversationResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/chat/message":{"post":{"tags":["채팅"],"summary":"Send Message","description":"메시지 전송 (사용자 메시지 저장)","operationId":"send_message_chat_message_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMessageRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/chat/messages/{conversation_id}":{"get":{"tags":["채팅"],"summary":"Get Messages","description":"대화의 채팅 메시지 조회","operationId":"get_messages_chat_messages__conversation_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","title":"Conversation Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetMessagesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat/recent":{"get":{"tags":["채팅"],"summary":"Get Recent Conversations","description":"최근 대화 목록 조회","operationId":"get_recent_conversations_chat_recent_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRecentConversationsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat/conversation/{conversation_id}":{"patch":{"tags":["채팅"],"summary":"Update Conversation","description":"대화 정보 업데이트 (주소, 계약 유형 등)","operationId":"update_conversation_chat_conversation__conversation_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","title":"Conversation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateConversationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["채팅"],"summary":"Delete Conversation","description":"대화 삭제 (메시지 포함, CASCADE)","operationId":"delete_conversation_chat_conversation__conversation_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"conversation_id","in":"path","required":true,"schema":{"type":"string","title":"Conversation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/crawler-test/crawl":{"post":{"tags":["크롤러 테스트 (관리자 전용)"],"summary":"Test Crawl","description":"크롤러 패키지 테스트 (관리자 전용)\n\n**주의**: 실제 외부 API를 호출합니다. 개발 환경에서만 사용하세요.\n\nArgs:\n    request: 크롤링 테스트 요청\n\nReturns:\n    크롤링 결과 샘플","operationId":"test_crawl_crawler_test_crawl_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlTestRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrawlTestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/crawler-test/health":{"get":{"tags":["크롤러 테스트 (관리자 전용)"],"summary":"Health Check","description":"크롤러 패키지 헬스체크\n\nReturns:\n    패키지 정보 및 상태","operationId":"health_check_crawler_test_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/case":{"post":{"tags":["case"],"summary":"Create Case","description":"새 분석 케이스 생성\n\n- user_id: 현재 로그인한 사용자\n- current_state: \"address\" (초기 상태)\n- metadata: 추가 정보 (선택)","operationId":"create_case_case_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCaseRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CaseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["case"],"summary":"List Cases","description":"사용자의 케이스 목록 조회\n\n- 최근 생성순 정렬\n- 페이지네이션 지원","operationId":"list_cases_case_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CaseResponse"},"title":"Response List Cases Case Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/case/{case_id}":{"get":{"tags":["case"],"summary":"Get Case","description":"케이스 조회\n\n- 본인 케이스만 조회 가능 (RLS 적용)","operationId":"get_case_case__case_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"case_id","in":"path","required":true,"schema":{"type":"string","title":"Case Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CaseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["case"],"summary":"Update Case","description":"케이스 업데이트\n\n- current_state: 상태 전환 (address → contract → registry → analysis → report)\n- metadata: 추가 정보 업데이트","operationId":"update_case_case__case_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"case_id","in":"path","required":true,"schema":{"type":"string","title":"Case Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCaseRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CaseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["case"],"summary":"Delete Case","description":"케이스 삭제\n\n- 관련 artifacts, reports도 CASCADE 삭제됨 (FK 설정 필요)","operationId":"delete_case_case__case_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"case_id","in":"path","required":true,"schema":{"type":"string","title":"Case Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze/start":{"post":{"tags":["analysis"],"summary":"Start Analysis","description":"분석 시작\n\n- 케이스 상태를 \"analysis\"로 전환\n- 백그라운드 작업 큐에 분석 태스크 등록 (TODO: P2에서 구현)","operationId":"start_analysis_analyze_start_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalysisStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/analyze/status/{case_id}":{"get":{"tags":["analysis"],"summary":"Get Analysis Status","description":"분석 상태 조회\n\n- 현재 케이스 상태와 진행률 반환","operationId":"get_analysis_status_analyze_status__case_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"case_id","in":"path","required":true,"schema":{"type":"string","title":"Case Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalysisStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze/transition/{case_id}":{"post":{"tags":["analysis"],"summary":"Transition State","description":"상태 전환 (디버깅/테스트용)\n\n- 수동으로 케이스 상태를 전환\n- 프로덕션에서는 자동 전환 사용 권장","operationId":"transition_state_analyze_transition__case_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"case_id","in":"path","required":true,"schema":{"type":"string","title":"Case Id"}},{"name":"target_state","in":"query","required":true,"schema":{"type":"string","title":"Target State"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalysisStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze/result/{case_id}":{"get":{"tags":["analysis"],"summary":"Get Analysis Result","description":"분석 결과 조회\n\n- 완료된 분석의 리포트 반환\n- TODO: Phase 3에서 리포트 시스템 구현","operationId":"get_analysis_result_analyze_result__case_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"case_id","in":"path","required":true,"schema":{"type":"string","title":"Case Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalysisResultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reports/{case_id}":{"get":{"tags":["report"],"summary":"Get Report","description":"케이스 리포트 조회 (마크다운 형식)\n\n- 본인 케이스만 조회 가능\n- 분석 완료된 케이스만 리포트 존재\n- 노션 스타일 마크다운으로 반환","operationId":"get_report_reports__case_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"case_id","in":"path","required":true,"schema":{"type":"string","title":"Case Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["report"],"summary":"Delete Report","description":"리포트 삭제\n\n- 본인 리포트만 삭제 가능\n- 케이스는 삭제되지 않음 (리포트만 삭제)","operationId":"delete_report_reports__case_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"case_id","in":"path","required":true,"schema":{"type":"string","title":"Case Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reports":{"get":{"tags":["report"],"summary":"List Reports","description":"사용자 리포트 목록 조회\n\n- 최근 생성순 정렬\n- 페이지네이션 지원","operationId":"list_reports_reports_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReportResponse"},"title":"Response List Reports Reports Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","description":"헬스체크 엔드포인트.\n\nNote:\n    `/healthz`는 Cloud Run의 예약된 경로이므로 `/health`를 사용합니다.\n\nReturns:\n    서비스 상태 정보","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/ingest":{"post":{"summary":"Ingest Contract","description":"계약서 PDF 업로드 및 벡터 DB 저장.\n\n⚠️ 인증 필수: JWT 토큰을 Authorization 헤더에 포함해야 합니다.\n\nArgs:\n    file: PDF 파일\n    contract_id: 계약서 고유 ID\n    addr: 부동산 주소 (선택)\n    user: 인증된 사용자 정보 (JWT에서 자동 추출)\n\nReturns:\n    업로드 결과\n\nRaises:\n    HTTPException: 파일 검증 실패 또는 처리 오류 시","operationId":"ingest_contract_ingest_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_ingest_contract_ingest_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/analyze":{"post":{"summary":"Analyze Contract","description":"계약서 분석 요청.\n\nArgs:\n    request: 분석 요청 (질문, 모드, 제공자)\n\nReturns:\n    분석 결과\n\nRaises:\n    HTTPException: 분석 실패 시","operationId":"analyze_contract_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"AnalysisResultResponse":{"properties":{"case_id":{"type":"string","title":"Case Id"},"report_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Report Id"},"risks":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Risks"},"recommendations":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Recommendations"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"}},"type":"object","required":["case_id","report_id"],"title":"AnalysisResultResponse","description":"분석 결과 응답"},"AnalysisStatusResponse":{"properties":{"case_id":{"type":"string","title":"Case Id"},"current_state":{"type":"string","title":"Current State"},"progress":{"type":"number","title":"Progress"},"message":{"type":"string","title":"Message"}},"type":"object","required":["case_id","current_state","progress","message"],"title":"AnalysisStatusResponse","description":"분석 상태 응답"},"AnalyzeRequest":{"properties":{"question":{"type":"string","maxLength":1000,"minLength":1,"title":"Question"},"mode":{"type":"string","enum":["single","consensus"],"title":"Mode","description":"분석 모드: single(단일 모델) 또는 consensus(듀얼 모델)","default":"single"},"provider":{"anyOf":[{"type":"string","enum":["openai","claude"]},{"type":"null"}],"title":"Provider","description":"LLM 제공자 (single 모드에서만 사용)"}},"type":"object","required":["question"],"title":"AnalyzeRequest","description":"분석 요청 모델."},"AnalyzeResponse":{"properties":{"answer":{"type":"string","title":"Answer"},"mode":{"type":"string","title":"Mode"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"sources":{"items":{"$ref":"#/components/schemas/SourceInfo"},"type":"array","title":"Sources"}},"type":"object","required":["answer","mode"],"title":"AnalyzeResponse","description":"분석 응답 모델."},"AptTradeItem":{"properties":{"지역코드_시군구":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"지역코드 시군구"},"지역코드_읍면동":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"지역코드 읍면동"},"읍면동명":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"읍면동명"},"지번":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"지번"},"도로명":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"도로명"},"아파트명":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"아파트명"},"아파트동":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"아파트동"},"전용면적":{"type":"number","title":"전용면적"},"층":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"층"},"건축년도":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"건축년도"},"거래일자":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"거래일자"},"거래금액_원":{"type":"integer","title":"거래금액 원"},"거래금액_만원":{"type":"integer","title":"거래금액 만원"},"거래유형":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"거래유형"},"매도자구분":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"매도자구분"},"매수자구분":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"매수자구분"},"중개사소재지":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"중개사소재지"},"토지임대여부":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"토지임대여부"}},"type":"object","required":["전용면적","거래금액_원","거래금액_만원"],"title":"AptTradeItem","description":"아파트 실거래 항목."},"AptTradePeriodRequest":{"properties":{"lawd_cd":{"type":"string","title":"Lawd Cd","description":"지역코드 (5자리)"},"start_ym":{"type":"string","title":"Start Ym","description":"시작년월 (YYYYMM)"},"end_ym":{"type":"string","title":"End Ym","description":"종료년월 (YYYYMM)"}},"type":"object","required":["lawd_cd","start_ym","end_ym"],"title":"AptTradePeriodRequest","description":"기간별 아파트 실거래가 검색 요청."},"AptTradePeriodResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"total_count":{"type":"integer","title":"Total Count"},"items":{"items":{"$ref":"#/components/schemas/AptTradeItem"},"type":"array","title":"Items"},"lawd_cd":{"type":"string","title":"Lawd Cd"},"start_ym":{"type":"string","title":"Start Ym"},"end_ym":{"type":"string","title":"End Ym"}},"type":"object","required":["success","total_count","items","lawd_cd","start_ym","end_ym"],"title":"AptTradePeriodResponse","description":"기간별 아파트 실거래가 검색 응답."},"AptTradeSearchRequest":{"properties":{"lawd_cd":{"type":"string","maxLength":5,"minLength":5,"title":"Lawd Cd","description":"지역코드 (법정동코드 앞 5자리)"},"deal_ymd":{"type":"string","maxLength":6,"minLength":6,"title":"Deal Ymd","description":"계약년월 (YYYYMM)"},"page_no":{"type":"integer","minimum":1.0,"title":"Page No","description":"페이지 번호","default":1},"num_of_rows":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"Num Of Rows","description":"한 페이지 결과 수","default":100}},"type":"object","required":["lawd_cd","deal_ymd"],"title":"AptTradeSearchRequest","description":"아파트 실거래가 검색 요청."},"AptTradeSearchResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"total_count":{"type":"integer","title":"Total Count"},"page_no":{"type":"integer","title":"Page No"},"num_of_rows":{"type":"integer","title":"Num Of Rows"},"items":{"items":{"$ref":"#/components/schemas/AptTradeItem"},"type":"array","title":"Items"},"lawd_cd":{"type":"string","title":"Lawd Cd"},"deal_ymd":{"type":"string","title":"Deal Ymd"}},"type":"object","required":["success","total_count","page_no","num_of_rows","items","lawd_cd","deal_ymd"],"title":"AptTradeSearchResponse","description":"아파트 실거래가 검색 응답."},"Body_ingest_contract_ingest_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"contract_id":{"type":"string","maxLength":100,"minLength":1,"title":"Contract Id"},"addr":{"type":"string","maxLength":200,"title":"Addr","default":""}},"type":"object","required":["file","contract_id"],"title":"Body_ingest_contract_ingest_post"},"Body_upload_registry_registry_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"등기부등본 PDF 파일"},"user_id":{"type":"string","title":"User Id","description":"사용자 ID (UUID)"},"property_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Property Address","description":"부동산 주소"},"owner_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Name","description":"소유자 이름"},"registry_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Registry Date","description":"등기부 발급일 (YYYY-MM-DD)"},"registry_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Registry Type","description":"등기부 유형: land, building, collective","default":"building"}},"type":"object","required":["file","user_id"],"title":"Body_upload_registry_registry_upload_post"},"BuildingDetailRequest":{"properties":{"sigungu_cd":{"type":"string","title":"Sigungu Cd","description":"시군구코드 5자리"},"bjdong_cd":{"type":"string","title":"Bjdong Cd","description":"법정동코드 5자리"},"bun":{"type":"string","title":"Bun","description":"본번"},"ji":{"type":"string","title":"Ji","description":"지번","default":""},"plat_gb_cd":{"type":"string","title":"Plat Gb Cd","description":"대지구분코드","default":"0"},"mgm_bldrgst_pk":{"type":"string","title":"Mgm Bldrgst Pk","description":"관리건축물대장PK (고유번호)"}},"type":"object","required":["sigungu_cd","bjdong_cd","bun","mgm_bldrgst_pk"],"title":"BuildingDetailRequest","description":"건축물대장 상세 조회 요청."},"BuildingSearchRequest":{"properties":{"sigungu_cd":{"type":"string","maxLength":5,"minLength":5,"title":"Sigungu Cd","description":"시군구코드 5자리 (예: 11680)"},"bjdong_cd":{"type":"string","maxLength":5,"minLength":5,"title":"Bjdong Cd","description":"법정동코드 5자리 (예: 10300)"},"bun":{"type":"string","title":"Bun","description":"본번 (예: 12 or 0012)"},"ji":{"type":"string","title":"Ji","description":"지번 (예: 3 or 0003)","default":""},"plat_gb_cd":{"type":"string","title":"Plat Gb Cd","description":"대지구분코드 (0:대지, 1:산, 2:블록)","default":"0"},"num_of_rows":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Num Of Rows","description":"페이지당 결과 수","default":10},"page_no":{"type":"integer","minimum":1.0,"title":"Page No","description":"페이지 번호","default":1}},"type":"object","required":["sigungu_cd","bjdong_cd","bun"],"title":"BuildingSearchRequest","description":"건축물대장 검색 요청."},"CaseResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"property_address":{"type":"string","title":"Property Address"},"contract_type":{"type":"string","title":"Contract Type"},"current_state":{"type":"string","title":"Current State"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["id","user_id","property_address","contract_type","current_state","metadata","created_at","updated_at"],"title":"CaseResponse","description":"케이스 응답"},"CrawlTestRequest":{"properties":{"lat":{"type":"number","maximum":90.0,"minimum":-90.0,"title":"Lat","description":"위도"},"lon":{"type":"number","maximum":180.0,"minimum":-180.0,"title":"Lon","description":"경도"},"radius_km":{"type":"number","maximum":20.0,"minimum":1.0,"title":"Radius Km","description":"검색 반경 (km)","default":5.0},"trade_types":{"items":{"type":"string"},"type":"array","title":"Trade Types","description":"거래 유형 (A1: 매매, B1: 전세, B2: 월세)","default":["A1"]}},"type":"object","required":["lat","lon"],"title":"CrawlTestRequest","description":"크롤링 테스트 요청"},"CrawlTestResponse":{"properties":{"ok":{"type":"boolean","title":"Ok"},"message":{"type":"string","title":"Message"},"center":{"additionalProperties":true,"type":"object","title":"Center"},"radius_km":{"type":"number","title":"Radius Km"},"trade_types":{"items":{"type":"string"},"type":"array","title":"Trade Types"},"total_complexes":{"type":"integer","title":"Total Complexes"},"sample_data":{"additionalProperties":true,"type":"object","title":"Sample Data"}},"type":"object","required":["ok","message","center","radius_km","trade_types","total_complexes","sample_data"],"title":"CrawlTestResponse","description":"크롤링 테스트 응답"},"CreateCaseRequest":{"properties":{"property_address":{"type":"string","title":"Property Address"},"contract_type":{"type":"string","title":"Contract Type"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["property_address","contract_type"],"title":"CreateCaseRequest","description":"케이스 생성 요청"},"CreateConversationResponse":{"properties":{"conversation_id":{"type":"string","title":"Conversation Id"},"message":{"type":"string","title":"Message"}},"type":"object","required":["conversation_id","message"],"title":"CreateConversationResponse","description":"새 대화 시작 응답"},"GetMessagesResponse":{"properties":{"conversation_id":{"type":"string","title":"Conversation Id"},"messages":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Messages"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["conversation_id","messages","total"],"title":"GetMessagesResponse","description":"메시지 목록 응답"},"GetRecentConversationsResponse":{"properties":{"conversations":{"items":{"$ref":"#/components/schemas/RecentConversation"},"type":"array","title":"Conversations"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["conversations","total"],"title":"GetRecentConversationsResponse","description":"최근 대화 목록 응답"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"ok":{"type":"boolean","title":"Ok"},"version":{"type":"string","title":"Version","default":"2.0.0"},"environment":{"type":"string","title":"Environment"}},"type":"object","required":["ok","environment"],"title":"HealthResponse","description":"헬스체크 응답 모델."},"IngestResponse":{"properties":{"ok":{"type":"boolean","title":"Ok"},"contract_id":{"type":"string","title":"Contract Id"},"length":{"type":"integer","title":"Length"},"chunks":{"type":"integer","title":"Chunks"}},"type":"object","required":["ok","contract_id","length","chunks"],"title":"IngestResponse","description":"PDF 인제스트 응답 모델."},"LandPriceItem":{"properties":{"year":{"type":"string","title":"Year"},"ld_code":{"type":"string","title":"Ld Code"},"ld_code_nm":{"type":"string","title":"Ld Code Nm"},"land_category":{"type":"string","title":"Land Category"},"area":{"type":"number","title":"Area"},"price_per_sqm":{"type":"integer","title":"Price Per Sqm"},"purpose_area":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Purpose Area"},"purpose_district":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Purpose District"},"data_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Date"}},"type":"object","required":["year","ld_code","ld_code_nm","land_category","area","price_per_sqm"],"title":"LandPriceItem","description":"개별공시지가 항목."},"LandPriceSearchRequest":{"properties":{"year":{"type":"string","maxLength":4,"minLength":4,"title":"Year","description":"기준연도 (YYYY)"},"dong_code":{"type":"string","maxLength":10,"minLength":2,"title":"Dong Code","description":"법정동코드 (10자리)"},"num_of_rows":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"Num Of Rows","description":"검색 건수 (최대 1000)","default":100},"page_no":{"type":"integer","minimum":1.0,"title":"Page No","description":"페이지 번호","default":1}},"type":"object","required":["year","dong_code"],"title":"LandPriceSearchRequest","description":"개별공시지가 검색 요청."},"LandPriceSearchResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"count":{"type":"integer","title":"Count"},"items":{"items":{"$ref":"#/components/schemas/LandPriceItem"},"type":"array","title":"Items"},"year":{"type":"string","title":"Year"},"area_name":{"type":"string","title":"Area Name"}},"type":"object","required":["success","count","items","year","area_name"],"title":"LandPriceSearchResponse","description":"개별공시지가 검색 응답."},"LandPriceStatsResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"count":{"type":"integer","title":"Count"},"avg_price":{"type":"integer","title":"Avg Price"},"min_price":{"type":"integer","title":"Min Price"},"max_price":{"type":"integer","title":"Max Price"},"area_name":{"type":"string","title":"Area Name"},"year":{"type":"string","title":"Year"}},"type":"object","required":["success","count","avg_price","min_price","max_price","area_name","year"],"title":"LandPriceStatsResponse","description":"개별공시지가 통계 응답."},"Message":{"properties":{"id":{"type":"integer","title":"Id"},"role":{"type":"string","enum":["user","assistant","system"],"title":"Role"},"content":{"type":"string","title":"Content"},"component_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Component Type"},"component_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Component Data"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","role","content","created_at"],"title":"Message","description":"메시지 모델"},"RecentConversation":{"properties":{"id":{"type":"string","title":"Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"property_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Property Address"},"contract_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contract Type"},"analysis_status":{"type":"string","title":"Analysis Status"},"last_user_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last User Message"},"message_count":{"type":"integer","title":"Message Count"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["id","analysis_status","message_count","created_at","updated_at"],"title":"RecentConversation","description":"최근 대화 항목"},"RegistryUploadResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"contract_id":{"type":"string","title":"Contract Id"},"document_id":{"type":"string","title":"Document Id"},"text_length":{"type":"integer","title":"Text Length"},"property_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Property Address"}},"type":"object","required":["success","message","contract_id","document_id","text_length"],"title":"RegistryUploadResponse","description":"등기부등본 업로드 응답."},"ReportResponse":{"properties":{"id":{"type":"string","title":"Id"},"case_id":{"type":"string","title":"Case Id"},"user_id":{"type":"string","title":"User Id"},"content":{"type":"string","title":"Content"},"risk_score":{"additionalProperties":true,"type":"object","title":"Risk Score"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","case_id","user_id","content","risk_score","created_at"],"title":"ReportResponse","description":"리포트 응답"},"SendMessageRequest":{"properties":{"conversation_id":{"type":"string","title":"Conversation Id","description":"대화 ID"},"content":{"type":"string","maxLength":5000,"minLength":1,"title":"Content","description":"메시지 내용"},"component_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Component Type","description":"UI 컴포넌트 타입"},"component_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Component Data","description":"UI 컴포넌트 데이터"}},"type":"object","required":["conversation_id","content"],"title":"SendMessageRequest","description":"메시지 전송 요청"},"SendSMSRequest":{"properties":{"phone":{"type":"string","title":"Phone"}},"type":"object","required":["phone"],"title":"SendSMSRequest"},"SourceInfo":{"properties":{"doc_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doc Id"},"chunk_index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunk Index"},"page":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Page"},"content_preview":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Preview"}},"type":"object","title":"SourceInfo","description":"출처 정보 모델."},"StartAnalysisRequest":{"properties":{"case_id":{"type":"string","title":"Case Id"}},"type":"object","required":["case_id"],"title":"StartAnalysisRequest","description":"분석 시작 요청"},"UpdateCaseRequest":{"properties":{"property_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Property Address"},"contract_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contract Type"},"current_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current State"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"UpdateCaseRequest","description":"케이스 업데이트 요청"},"UpdateConversationRequest":{"properties":{"property_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Property Address","description":"부동산 주소"},"contract_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contract Type","description":"계약 유형 (전세/매매/월세)"},"analysis_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Analysis Status","description":"분석 상태"}},"type":"object","title":"UpdateConversationRequest","description":"대화 정보 업데이트 요청"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VerifySMSRequest":{"properties":{"phone":{"type":"string","title":"Phone"},"code":{"type":"string","title":"Code"}},"type":"object","required":["phone","code"],"title":"VerifySMSRequest"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}